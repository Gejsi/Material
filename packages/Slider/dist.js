(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports,require('inferno'),require('inferno-component'),require('@slup/common'),require('@slup/theming')):'function'==typeof define&&define.amd?define(['exports','inferno','inferno-component','@slup/common','@slup/theming'],b):b((a.Slup=a.Slup||{},a.Slup.Slider={}),a.Inferno,a.Inferno.Component,a.Slup.Common,a.Slup.Theming)})(this,function(a,b,c,d,e){'use strict';function f(a,c){function b(){this.constructor=a}q(a,c),a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&'function'==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&(c[d[e]]=a[d[e]]);return c}c=c&&c.hasOwnProperty('default')?c['default']:c;var h,i,j,k,l,m,n,o,p='default'in e?e['default']:e,q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])},r=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},s=function(a){return e.rgba(a.theme.text||e.lightTheme.text,.3)},t=function(a){return a.disabled&&0!=a.value?a.theme.text||e.lightTheme.text:0==a.value?a.theme.background||e.lightTheme.background:a.primary?a.theme.primary||e.lightTheme.primary:a.theme.secondary||e.lightTheme.secondary},u=function(a,b){return'0 0 0 14px '+e.rgba(a,b)},v=(h=['\n  position: relative;\n  display: flex;\n  align-items: center;\n  outline: none;\n  height: 38px;\n  width: 100%;\n  pointer-events: ',';\n  opacity: ',';\n'],h.raw=['\n  position: relative;\n  display: flex;\n  align-items: center;\n  outline: none;\n  height: 38px;\n  width: 100%;\n  pointer-events: ',';\n  opacity: ',';\n'],p.div(h,function(a){return a.disabled?'none':'unset'},function(a){return a.disabled&&0!=a.value?.3:1})),w=(i=['\n  height: 3px;\n  width: 100%;\n  position: absolute;\n  background: ',';\n'],i.raw=['\n  height: 3px;\n  width: 100%;\n  position: absolute;\n  background: ',';\n'],p.div(i,function(a){return a.disabled&&0!=a.value?a.theme.text||e.lightTheme.text:s})),x=(j=['\n  height: 100%;\n  opacity: ',';\n  background: ',';\n'],j.raw=['\n  height: 100%;\n  opacity: ',';\n  background: ',';\n'],p.div(j,function(a){return a.disabled?0:1},t)),y=(k=['\n  position: absolute;\n  transition: width 200ms, height 200ms, box-shadow 300ms, background 150ms;\n  border-radius: 50%;\n  z-index: 1;\n  transform: translateX(-50%);\n  width:  ','px;\n  height: ','px;\n\n  background: ',';\n  border: ',';\n  border-color: ',';\n\n  box-shadow: ',';\n'],k.raw=['\n  position: absolute;\n  transition: width 200ms, height 200ms, box-shadow 300ms, background 150ms;\n  border-radius: 50%;\n  z-index: 1;\n  transform: translateX(-50%);\n  width:  ','px;\n  height: ','px;\n\n  background: ',';\n  border: ',';\n  border-color: ',';\n\n  box-shadow: ',';\n'],p.div(k,function(a){return a.disabled?8:a.focused?14:10},function(a){return a.disabled?8:a.focused?14:10},t,function(a){return 0==a.value||a.disabled?'2px solid':'none'},function(a){return a.disabled&&0!=a.value?a.theme.background||e.lightTheme.background:s},function(a){return a.focused&&0==a.value?u(a.theme.text||e.lightTheme.text,0.05):a.focused&&a.primary?u(a.theme.primary||e.lightTheme.primary,0.15):a.focused?u(a.theme.secondary||e.lightTheme.secondary,0.15):'none'})),z=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},A=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;return b.state={mouseDown:!1},b.slider=null,b}return f(c,a),c.prototype.emit=function(a,b){var c='on'+d.capitalize(a);'function'==typeof this.props[c]&&this.props[c](b)},c.prototype.componentWillMount=function(){var a=this;document.body.addEventListener('mousemove',function(b){return a.handleMouseMove(a,b)}),document.body.addEventListener('mouseup',function(b){return a.handleMouseUp(a,b)})},c.prototype.componentWillUnmount=function(){var a=this;document.body.removeEventListener('mousemove',function(b){return a.handleMouseMove(a,b)}),document.body.removeEventListener('mouseup',function(b){return a.handleMouseUp(a,b)})},c.prototype.gatherProgress=function(a){var b=a.clientX,c=this.slider,e=c.offsetLeft,f=c.clientWidth;return d.vise(0,(b-e)/f,1)*this.props.max},c.prototype.handleMouseDown=function(a,b){a.setState({mouseDown:!0}),a.emit('focus'),a.emit('change',a.gatherProgress(b))},c.prototype.handleMouseUp=function(a){a.setState({mouseDown:!1}),a.emit('blur')},c.prototype.handleMouseMove=function(a,b){if(a.state.mouseDown){if(a.props.steps){var c=a.gatherProgress(b),d=a.props.max/a.props.steps,e=Math.round(c/d);return this.emit('change',e*d)}a.emit('change',a.gatherProgress(b))}},c.prototype.handleKeyDown=function(a,b){var c,e=a.props,f=e.value,g=e.max,h=e.steps,i=h?g/h:1;switch(b.keyCode){case 38:case 39:c=d.vise(0,f+i,g),a.emit('change',c);break;case 40:case 37:c=d.vise(0,f-i,g),a.emit('change',c);}},c.prototype.baseRender=function(a){var c=this,d=a.max,e=a.value,f=a.focused,h=a.primary,i=a.disabled,j=a.CustomThumb,k=a.children,l=a.onFocus,m=a.onChange,n=a.onBlur,o=g(a,['max','value','focused','primary','disabled','CustomThumb','children','onFocus','onChange','onBlur']),p=100*(e/d)+'%',q={focused:f,primary:h,value:e,disabled:i};return b.createVNode(16,v,null,null,{innerRef:function(a){return c.slider=a},tabindex:i?-1:0,onFocus:l,onBlur:n,onMouseDown:b.linkEvent(this,this.handleMouseDown),onKeyDown:b.linkEvent(this,this.handleKeyDown),disabled:i,value:e,children:[b.createVNode(16,w,null,null,{disabled:i,value:e,children:b.createVNode(16,x,null,null,z({},q,{style:{width:p}}))}),j?b.createVNode(16,j,null,null,z({},q,{style:{left:p}})):b.createVNode(16,y,null,null,z({},q,{style:{left:p}})),k]})},c.prototype.render=function(a,b,c){return this.baseRender(a,b,c)},c}(c),B=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},C=function(a){return 0==a.value?a.theme.text||e.lightTheme.text:a.theme.secondary||e.lightTheme.secondary},D=(l=['\n  transform: scale(',') translate(-50%, -50%);\n'],l.raw=['\n  transform: scale(',') translate(-50%, -50%);\n'],p(y)(l,function(a){return a.focused?0:1})),E=(m=['\n  position: absolute;\n  bottom: 35px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: ',';\n  background: ',';\n  color: ',';\n  border-radius: 50%;\n  font-size: 12px;\n  user-select: none;\n  height: 30px; width: 30px;\n  transform-origin: bottom;\n  transition: transform 300ms cubic-bezier(0.4, 0.0, 0.2, 1), background 150ms;\n  transform: scale(',') translateX(-50%);\n\n  &::before   {\n    content: \'\';\n    z-index: -1;\n    position: absolute;\n    bottom: -6.2px;\n    width: 0; height: 0;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 10px solid ',';\n  }\n'],m.raw=['\n  position: absolute;\n  bottom: 35px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: ',';\n  background: ',';\n  color: ',';\n  border-radius: 50%;\n  font-size: 12px;\n  user-select: none;\n  height: 30px; width: 30px;\n  transform-origin: bottom;\n  transition: transform 300ms cubic-bezier(0.4, 0.0, 0.2, 1), background 150ms;\n  transform: scale(',') translateX(-50%);\n\n  &::before   {\n    content: \'\';\n    z-index: -1;\n    position: absolute;\n    bottom: -6.2px;\n    width: 0; height: 0;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 10px solid ',';\n  }\n'],p.div(m,function(a){return 0==a.value?'.3':'1'},C,function(a){return 0==a.value?a.theme.background||e.lightTheme.background:'white'},function(a){return a.focused?1:0},C)),F=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return f(c,a),c.prototype.renderDiscrete=function(a){return this.baseRender(r({},a,{CustomThumb:function(c){return b.createVNode(2,'div',null,[b.createVNode(16,D,null,null,B({},c)),b.createVNode(16,E,null,null,B({},c,{value:a.value,children:Math.floor(a.value)}))])}}))},c.prototype.render=function(a){return this.renderDiscrete(a)},c}(A),G=(n=['\n  display: ',';\n  height: 3px;\n  width: 100%;\n  position: absolute;\n  z-index: 2;\n'],n.raw=['\n  display: ',';\n  height: 3px;\n  width: 100%;\n  position: absolute;\n  z-index: 2;\n'],p.div(n,function(a){return a.disabled?'none':'initial'})),H=(o=['\n  height: 3px;\n  width: 3px;\n  border-radius: 50%;\n  position: absolute;\n  background: ',';\n'],o.raw=['\n  height: 3px;\n  width: 3px;\n  border-radius: 50%;\n  position: absolute;\n  background: ',';\n'],p.div(o,function(a){return a.theme.text||e.lightTheme.text})),I=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return f(c,a),c.prototype.render=function(a){var c=a.steps,d=a.children,e=g(a,['steps','children']),f=[b.createVNode(16,H,null,null,{style:{left:'100%'},id:c+1})];if(c)for(var h=e.max/c,j=0;j<c;j++)f.push(b.createVNode(16,H,null,null,{style:{left:h*j+'%'},id:j}));return this.renderDiscrete(r({},e,{children:(d||[]).concat([b.createVNode(2,'div',null,f,{style:{width:'100%',height:3}})])}))},c}(F);a.Slider=A,a.TThumb=D,a.Indicator=E,a.DiscreteSlider=F,a.Dots=G,a.Dot=H,a.SteppedSlider=I,Object.defineProperty(a,'__esModule',{value:!0})});
